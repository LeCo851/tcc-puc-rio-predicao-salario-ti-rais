<div class="container mt-5 mb-5">
  <div class="card shadow">
    <div class="card-header bg-primary text-white">
      <h3>üí∞ Predi√ß√£o Salarial TI - TCC</h3>
    </div>
    sistemas
    <div class="card-body">
      <form (ngSubmit)="calcular()">

        <div class="row mb-3">
          <div class="col-md-8">
            <label class="form-label">Cargo</label>

            <input type="text"
                   class="form-control"
                   [(ngModel)]="dados.cargo"
                   name="cargo"
                   list="opcoes-cargos"
                   placeholder="Comece a digitar..."
                   autocomplete="off">

            <datalist id="opcoes-cargos">
              <option *ngFor="let cargo of listaCargos" [value]="cargo"></option>
            </datalist>

            <small class="text-muted">Selecione uma op√ß√£o da lista.</small>
          </div>
          <div class="col-md-4">
            <label class="form-label">Idade</label>
            <input type="number" class="form-control" [(ngModel)]="dados.idade" name="idade">
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <label class="form-label">Escolaridade</label>
            <select class="form-select" [(ngModel)]="dados.escolaridade" name="escolaridade">
              <option value="M√©dio Completo">M√©dio Completo</option>
              <option value="Superior Incompleto">Superior Incompleto</option>
              <option value="Superior Completo">Superior Completo</option>
              <option value="Mestrado">Mestrado</option>
              <option value="Doutorado">Doutorado</option>
            </select>
          </div>
          <div class="col-md-6">
            <label class="form-label">Tamanho da Empresa</label>
            <select class="form-select" [(ngModel)]="dados.tamanho_empresa" name="tamanho">
              <option value="Zero funcion√°rios">Zero funcion√°rios</option>
              <option value="De 1 a 4 funcion√°rios">De 1 a 4 funcion√°rios</option>
              <option value="De 5 a 9 funcion√°rios">De 5 a 9 funcion√°rios</option>
              <option value="De 10 a 19 funcion√°rios">De 10 a 19 funcion√°rios</option>
              <option value="De 20 a 49 funcion√°rios">De 20 a 49 funcion√°rios</option>
              <option value="De 50 a 99 funcion√°rios">De 50 a 99 funcion√°rios</option>
              <option value="De 100 a 249 funcion√°rios">De 100 a 249 funcion√°rios</option>
              <option value="De 250 a 499 funcion√°rios">De 250 a 499 funcion√°rios</option>
              <option value="De 500 a 999 funcion√°rios">De 500 a 999 funcion√°rios</option>
              <option value="1000 ou mais funcion√°rios">1000 ou mais funcion√°rios</option>
            </select>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-12">
            <label class="form-label">Setor de Atua√ß√£o</label>
            <select class="form-select" [(ngModel)]="dados.setor" name="setor">
              <option value="Institui√ß√µes Financeiras (Bancos)">Institui√ß√µes Financeiras (Bancos)</option>
              <option value="Com√©rcio Varejista">Com√©rcio Varejista</option>
              <option value="Com√©rcio Atacadista">Com√©rcio Atacadista</option>
              <option value="Ind√∫stria T√™xtil">Ind√∫stria T√™xtil</option>
              <option value="Ind√∫stria Qu√≠mica">Ind√∫stria Qu√≠mica</option>
              <option value="Constru√ß√£o Civil">Constru√ß√£o Civil</option>
              <option value="Servi√ßos de Utilidade P√∫blica">Servi√ßos de Utilidade P√∫blica</option>
              <option value="Transportes e Comunica√ß√µes">Transportes e Comunica√ß√µes</option>
              <option value="Administra√ß√£o P√∫blica">Administra√ß√£o P√∫blica</option>
              <option value="Ensino">Ensino</option>
              <option value="M√©dicos, Odontol√≥gicos e Veterin√°rios">M√©dicos, Odontol√≥gicos e Veterin√°rios</option>
              <option value="Alojamento e Alimenta√ß√£o">Alojamento e Alimenta√ß√£o</option>
            </select>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-3">
            <label class="form-label">Sexo</label>
            <select class="form-select" [(ngModel)]="dados.sexo" name="sexo">
              <option value="Masculino">Masculino</option>
              <option value="Feminino">Feminino</option>
            </select>
          </div>

          <div class="col-md-3">
            <label class="form-label">Ra√ßa/Cor</label>
            <select class="form-select" [(ngModel)]="dados.raca" name="raca">
              <option value="Branca">Branca</option>
              <option value="Preta">Preta</option>
              <option value="Parda">Parda</option>
              <option value="Amarela">Amarela</option>
              <option value="Ind√≠gena">Ind√≠gena</option>
              <option value="N√£o Informado">N√£o Informado</option>
            </select>
          </div>

          <div class="col-md-3">
            <label class="form-label">Estado (UF)</label>
            <input type="text" class="form-control" [(ngModel)]="dados.uf" name="uf" maxlength="2" style="text-transform: uppercase;">
          </div>

          <div class="col-md-3">
            <label class="form-label">Ano Refer√™ncia</label>
            <input type="number" class="form-control" [(ngModel)]="dados.ano_referencia" name="ano">
          </div>
        </div>

        <button type="submit" class="btn btn-success w-100 py-2" [disabled]="carregando">
          <span *ngIf="carregando" class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>

          <span *ngIf="!carregando">Calcular Sal√°rio</span>
          <span *ngIf="carregando">Processando Intelig√™ncia Artificial...</span>
        </button>

      </form>

      <div *ngIf="resultado" class="alert alert-success text-center mt-4 shadow-sm">
        <h5 class="text-muted mb-1">Estimativa Salarial</h5>
        <h1 class="display-3 fw-bold text-success">{{ resultado.resultado.salario_estimado }}</h1>
        <hr>
        <p class="mb-0"><strong>Cargo:</strong> {{ resultado.resultado.cargo_selecionado }}</p>
        <p class="small text-muted mb-0">{{ resultado.resultado.detalhes_perfil.porte_empresa }} - {{ resultado.resultado.detalhes_perfil.setor_atuacao }}</p>
      </div>

      <div *ngIf="erro" class="alert alert-danger mt-4 text-center">
        <strong>Ops!</strong> {{ erro }}
      </div>

    </div>
  </div>
</div>
